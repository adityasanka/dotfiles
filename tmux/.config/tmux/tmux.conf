# tmux plugin manager
set -g @plugin 'tmux-plugins/tpm'
# sensible defaults
set -g @plugin 'tmux-plugins/tmux-sensible'
# better mouse mode
set -g @plugin 'nhdaly/tmux-better-mouse-mode'
# yank to system clipboard
set -g @plugin 'tmux-plugins/tmux-yank'
# seamless navigation between vim and tmux
set -g @plugin 'christoomey/vim-tmux-navigator'

# use terminal colors
set-option -sa terminal-overrides ",xterm*:Tc"

# enable mouse
set -g mouse on

# terminal and behavior settings
set -g default-terminal "tmux-256color"
set -sg escape-time 10
set -g focus-events on
set -g history-limit 50000
set-window-option -g mode-keys vi

# remap prefix from 'C-b' to 'C-a'
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# split panes using | and -
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# Kill all panes except for the current one
bind k confirm-before -p "Kill all other panes? (y/n)" "kill-pane -a"

# open windows in current dir
bind c new-window -c "#{pane_current_path}"

# shift alt keys to switch windows
bind -n M-Left previous-window
bind -n M-Right next-window

# start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# don't rename windows automatically
set-option -g allow-rename off

# reload config file
unbind r
bind r source-file ~/.config/tmux/tmux.conf \; display-message "Config reloaded"

###########################################
# Status bar
###########################################

# Set status bar at the top
set -g status-position top
# Center window list 
set -g status-justify centre
# Refresh status bar every 10 seconds 
set -g status-interval 10

# Status bar background and foreground
set -g status-bg "#040404"
set -g status-fg "#F1F3F6"

# Left status: session name + separator
set -g status-left-length 50
set -g status-left "#[fg=#79DE76,bold]   #[fg=#81B5F9,bold]#S" 

# Inactive windows
setw -g window-status-format "#[fg=#A0A7B2] #I: #[fg=#A0A7B2]#W"
# Active window
setw -g window-status-current-format "#[fg=#81B5F9,bold] #I: #[fg=#81B5F9]#W"
# Window separator
# set -g window-status-separator " #[fg=#EFCB5D]│"
set -g window-status-separator " " 

# Right status: Date and time
set -g status-right-length 100
set -g status-right "#[fg=#81B5F9,bold] %I:%M %p, #[fg=#81B5F9,nobold]%d-%m-%Y"

# Inactive pane borders - subtle grayish blue
set -g pane-border-style "fg=#7B828D"

# Active pane border - vibrant green with bold for better visibility
set -g pane-active-border-style "fg=#62CA5E,bold"

# Message and command prompt colors
set -g message-style "bg=#E7B94D,fg=#040404"
set -g message-command-style "bg=#66C2CD,fg=#040404"

# Cursor color for command mode
set -g mode-style "bg=#81B5F9,fg=#040404"

# Initialize TMUX plugin manager (must be last)
run '~/.tmux/plugins/tpm/tpm'
